<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Static Template</title>
  </head>
  <body>
    <div class="main-container">
      <div class="desktop-left-side">
        <div class="branding-title">
          <h1 class="title-branding">Immanuel Prarthana Bhawan</h1>
          <h1 class="slogon-branding">worship planning</h1>
        </div>
        <div class="navigation-container">
          <a
            href="index.html"
            class="single-nav"
            style="background-color: rgb(50, 90, 128)"
          >
            <p class="single-nav-text">Worship Planning</p>
            <img
              src="./assects/arrow-icon.png"
              class="nav-arrow-image"
              alt="custom"
            />
          </a>
          <a
            href="./worshipdays.html"
            class="single-nav"
            style="background-color: rgb(145, 145, 145)"
          >
            <p class="single-nav-text">all worship days</p>
            <img
              src="./assects/arrow-icon.png"
              class="nav-arrow-image"
              alt="custom"
            />
          </a>
          <a
            href="./pdfiles.html"
            class="single-nav"
            style="background-color: rgb(145, 145, 145)"
          >
            <p class="single-nav-text">pdf files</p>
            <img
              src="./assects/arrow-icon.png"
              class="nav-arrow-image"
              alt="custom"
            />
          </a>
          <a
            href="./allsongs.html"
            class="single-nav"
            style="background-color: rgb(145, 145, 145)"
          >
            <p class="single-nav-text">all songs</p>
            <img
              src="./assects/arrow-icon.png"
              class="nav-arrow-image"
              alt="custom"
            />
          </a>
          <a
            href="./addsong.html"
            class="single-nav"
            style="background-color: rgb(145, 145, 145)"
          >
            <p class="single-nav-text">add plan/song</p>
            <img
              src="./assects/arrow-icon.png"
              class="nav-arrow-image"
              alt="custom"
            />
          </a>
        </div>
      </div>
      <div class="division81391">
        <div class="vieport-nav">
          <div style="display: flex; justify-self: center; align-items: center">
            <input onchange="toggleMobileNav()" type="checkbox" id="checkbox" />
            <label for="checkbox" class="toggle">
              <div class="bars" id="bar1"></div>
              <div class="bars" id="bar2"></div>
              <div class="bars" id="bar3"></div>
            </label>
            <h1 class="title-branding">worship planning</h1>
          </div>
          <div class="viewport-nav-search">
            <input
              type="text"
              class="viewport-serarch-input"
              placeholder="Your Text"
            /><img
              src="./assects/search-icon.png"
              class="image55015"
              alt="custom"
            />
          </div>
        </div>
        <div class="plan-day-date">
          <p class="paragraph40479">Date: <strong class = "dateplan"></strong></p>
        </div>
        <div class="division67082">
          <div class="pdf-viewer"></div>
          <div class="planning-songs-lists">
           
            
          </div>
        </div>
      </div>
    </div>
    <script src="./script.js"></script>
    <script src="./loginhandle.js"></script>

      <script>
const GetworshipDays =() =>{

    function getURLParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

    const Planid = getURLParameter('plan');
fetch(serverURL+"getcplan",{
          method: "post",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ planid : Planid }),
        }).then(response =>response.json()).then(data=>
{
 
 
  const allWorshipContainer = document.querySelector('.planning-songs-lists')
if(data.length > 0){
  const dateView = document.querySelector('.dateplan')
  dateView.innerHTML = data[0].date


  for(let i =0; i<data[0].plansongs.length; i++){
    console.log(data)
     let url = `/songlyrics?song=${data[0].plansongs[i].songid}`.replace(' ' , '%20')

    let tempData = `<a href =${url} class="planning-single-song-container">
              <p class="planning-single-song-titl">
              ${data[0].plansongs[i].title}
              </p>
            </a>`
        allWorshipContainer.innerHTML += tempData
  }
}
  
})
}

GetworshipDays()
    </script>
  </body>
</html>
